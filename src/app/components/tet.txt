<!-- Search section Start Here -->
<section class="searchs search-sticky submit-recipe-page-wrap padding-top-74 padding-bottom-50">
    <!-- <div class="back-image">
        <img  src="https://cdn-image.myrecipes.com/sites/default/files/styles/4_3_horizontal_-_1200x900/public/mrtrending0475.jpg?itok=ULkGk3Pn" alt="">
    </div> -->
    <div class="container-search container">
        <div class="row gutters-60">
            <div class="col-lg-12">   
                <div class="tabs row gutters-60">            
                    <div [ngClass]="{'search-active': isSearchIngredientsVisible}" class="by-ingredients  col-lg-2" (click)="toggleShowSearch()">Search by ingredients</div>
                    <div [ngClass]="{'search-active': !isSearchIngredientsVisible}" class="by-recipes col-lg-2" (click)="toggleShowSearch()">Search by recipes</div>
                </div>
                <div *ngIf="isSearchIngredientsVisible" class="search-byingredients row">
                    <div class="col-lg-12">
                        <form class="submit-recipe-form form-row">                          
                            <div class="form-group select2-multiple col-lg-6">
                                <h2>Ingredients</h2>
                                <ng-select
                                class="select-multiple"
                                [items]="items"
                                bindLabel="name"
                                bindValue="codeTeacher"
                                name="teachersSelect"                           
                                [multiple]="true"
                                placeholder ="Select your ingredients"
                                notFoundText = "Sin resultados"
                                [(ngModel)]="searchModel.ingredients"
                                name="ingredients"
                                required>
                                </ng-select>
                            </div>
                            <div class="form-group select2-multiple col-lg-2">
                                <h2>Category</h2>
                                <ng-select
                                [items]="categories"
                                bindLabel="name"
                                bindValue="codeTeacher"
                                name="teachersSelect"                           
                                [multiple]="false"
                                placeholder ="Select a category"
                                notFoundText = "Sin resultados"
                                required>
                                </ng-select>
                            </div>
                            <div class="form-group col-1 flex-bottom">       
                                <!-- <button class="btn btn-lg btn-primary">test</button> -->
                                <button class="btn-fill btn-red btn-sub" (click)="searchRecipeByTerm()">Search</button>
                            </div>                
                        </form>    
                    </div>
                </div>
                <!-- Search by recipe Start Here -->
                <div *ngIf="!isSearchIngredientsVisible" class="search-byrecipes row gutters-60">            
                    <div  class="col-lg-12">
                        <!-- form search by term start here -->
                        <form 
                        class="submit-recipe-form form-row"  
                        [formGroup]='searchTermForm' 
                        (ngSubmit)="searchRecipeByTerm(searchTermForm.value)"
                        novalidate>
                            <div class="form-group search-recipe col-lg-6">
                                <h2>Search recipe</h2>
                                <span class="fa fa-search form-control-feedback"></span>
                                <button (click)="hiddeDropDown();" class=" btn-clear">Clear</button>
                                <input 
                                formControlName="searchTerm"
                                name="searchTerm"
                                type="text" 
                                class="form-control input-search"
                                placeholder="Type the recipe name" 
                                (clickOutside)="hiddeDropDown()" 
                                (focusout)="hiddeDropDown()" 
                                (keyup)="searchRecipe(searchTermForm.value.searchTerm)" 
                                required>                  
                                <!-- List results term Start Here -->
                                <div *ngIf="showDropDown" class="recipe-container-dropdown">
                                    <div class="result-container" (click)='selectValue(recipe)' *ngFor="let recipe of recipesNames">
                                    <span class="result-item">
                                        {{recipe.name}}
                                    </span>
                                    </div>
                                </div>
                                <!-- List results term End Here -->                 
                            </div>
                            <div class="form-group select2-multiple col-lg-2">
                                <h2>Category</h2>
                                <ng-select
                                formControlName="idCategory"
                                [items]="categories"
                                bindLabel="name"
                                bindValue="id"
                                name="categorySelect"                         
                                [multiple]="false"
                                placeholder ="Select a category"
                                notFoundText = "Result not found"
                                required>
                                </ng-select>
                            </div>
                            <div class="form-group col-1 flex-bottom">       
                                <button [disabled]="searchTermForm.invalid"  type="submit" class="btn-fill btn-red btn-sub" (click)="searchRecipeByIngredients(  )">Search</button>
                            </div>  
                            <!-- <div class="form-group positon-relative col-lg-2">       
                                <button type="submit" class="btn-submit position-absolute">Random Search now</button>
                            </div>   -->
                        </form>
                        <!-- form search by term end here -->
                    </div>
                </div>
                <!-- Search by recipe End Here -->
            </div>  
        </div>
    </div>
</section>
<!-- Search section End Here -->